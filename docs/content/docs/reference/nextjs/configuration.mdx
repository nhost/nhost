---
title: 'Configuration'
---

## Configuration

```jsx
// {project-root}/pages/_app.tsx
import type { AppProps } from 'next/app'

import { NhostSSR, NhostProvider } from '@nhost/nextjs'

import Header from '../components/Header'

const nhost = new NhostSSR({ backendUrl: 'my-app.nhost.run' })

function MyApp({ Component, pageProps }: AppProps) {
  return (
    <NhostProvider nhost={nhost} initial={pageProps.nhostSession}>
      <div>
        <Header />
        <Component {...pageProps} />
      </div>
    </NhostProvider>
  )
}

export default MyApp
```

## Client-side rendering

The logic is the same as in a classic React application:

```jsx
// {project-root}/pages/csr-page.jsx
import { NextPageContext } from 'next'
import React from 'react'

import { useAccessToken, useAuthenticated, useUserData } from '@nhost/nextjs'

const ClientSidePage: React.FC = () => {
  const authenticated = useAuthenticated()
  const user = useUserData()
  const jwt = useAccessToken()
  if (!authenticated) return <div>User it not authenticated</div>
  return (
    <div>
      <h1>{user?.displayName} is authenticated</h1>
      <div>JWT: {jwt}</div>
    </div>
  )
}

export default ClientSidePage
```

## Server-side rendering

You need to load the session from the server first from `getServerSideProps`. Once it is done, the `_app` component will make sure to load or update the session through `pageProps`.

```jsx
// {project-root}/pages/ssr-page.jsx
import { NextPageContext } from 'next'
import React from 'react'

import {
  getNhostSession,
  NhostSession,
  useAccessToken,
  useAuthenticated,
  useUserData
} from '@nhost/nextjs'

export async function getServerSideProps(context: NextPageContext) {
  const nhostSession = await getNhostSession('my-app.nhost.run', context)
  return {
    props: {
      nhostSession
    }
  }
}

const ServerSidePage: React.FC<{ initial: NhostSession }> = () => {
  const authenticated = useAuthenticated()
  const user = useUserData()
  const jwt = useAccessToken()
  if (!authenticated) return <div>User it not authenticated</div>
  return (
    <div>
      <h1>{user?.displayName} is authenticated</h1>
      <div>JWT: {jwt}</div>
    </div>
  )
}

export default ServerSidePage
```
