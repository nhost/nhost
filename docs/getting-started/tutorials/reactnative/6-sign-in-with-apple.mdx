---
title: Sign in with Apple in React Native
description: Learn how to implement Sign in with Apple authentication in your React Native app using Nhost Auth with proper configuration and native integration
sidebarTitle: "Sign in with Apple"
icon: apple
---

This tutorial extends the authentication system built in the previous parts by adding Sign in with Apple functionality. You'll learn how to configure Apple Sign In in the Nhost dashboard, implement the native iOS integration, and handle the authentication flow in your React Native application.

<Info>
This is **Part 6** in the Full-Stack React Native Development with Nhost series. This part focuses on integrating Apple's native authentication system with your existing Nhost authentication flow.
</Info>

## Full-Stack React Native Development with Nhost

<CardGroup cols={3}>
<Card title="1. Create Project" icon="plus" href="/getting-started/tutorials/reactnative/1-introduction">
Set up your Nhost project
</Card>

<Card title="2. Protected Routes" icon="lock" href="/getting-started/tutorials/reactnative/2-protected-routes">
Route protection basics
</Card>

<Card title="3. User Authentication" icon="user" href="/getting-started/tutorials/reactnative/3-user-authentication">
Complete auth flow
</Card>

<Card title="4. GraphQL Operations" icon="list-check" href="/getting-started/tutorials/reactnative/4-graphql-operations">
CRUD operations with GraphQL
</Card>

<Card title="5. File Uploads" icon="upload" href="/getting-started/tutorials/reactnative/5-file-uploads">
File upload and management
</Card>

<Card title="6. Sign in with Apple" icon="apple" href="/getting-started/tutorials/reactnative/6-sign-in-with-apple">
**Current** - Apple authentication integration
</Card>
</CardGroup>

## Prerequisites

- Complete the [User Authentication part](/getting-started/tutorials/reactnative/3-user-authentication) first
- Access to an Apple Developer account (required for Sign in with Apple)
- An iOS device or simulator for testing (Sign in with Apple requires iOS)
- The project from the previous parts set up and running

## What You'll Build

By the end of this part, you'll have:
- **Apple Developer Console configuration** for Sign in with Apple
- **Nhost Auth provider setup** for Apple authentication
- **Native Sign in with Apple button** in your React Native app
- **Seamless integration** with your existing authentication flow
- **Error handling** for Apple Sign In specific scenarios

## Step-by-Step Guide

<Steps>
<Step>

### Configure Apple Developer Console

First, you need to set up Sign in with Apple in your Apple Developer account.

1. Go to [Apple Developer Console](https://developer.apple.com/account/)
2. Navigate to **Certificates, Identifiers & Profiles**
3. Under **Identifiers**, select your App ID (or create one if you don't have it)
4. In the **Capabilities** section, enable **Sign In with Apple**
5. Configure the **Sign In with Apple** capability:
   - Enable as a **Primary App ID**
   - Configure **Group with Existing Primary App ID** if needed

![Apple Developer Console Setup](/images/tutorials/apple-signin/1.png)

<Warning>
You must have an active Apple Developer Program membership to enable Sign in with Apple. This feature is not available with a free Apple Developer account.
</Warning>

</Step>

<Step>

### Create Apple Service ID

Next, create a Service ID that will be used for web-based authentication flows.

1. In Apple Developer Console, go to **Identifiers**
2. Click the **+** button to create a new identifier
3. Select **Services IDs** and click **Continue**
4. Fill in the details:
   - **Description**: Your app name (e.g., "My Nhost App")
   - **Identifier**: A reverse domain name (e.g., `com.yourcompany.yourapp.service`)
5. Click **Continue** and then **Register**

![Create Service ID](/images/tutorials/apple-signin/2.png)

</Step>

<Step>

### Configure Sign in with Apple for Service ID

Now configure the Service ID for web authentication:

1. Select your newly created Service ID
2. Enable **Sign In with Apple**
3. Click **Configure** next to Sign In with Apple
4. Add your domain and redirect URL:
   - **Domains**: Your Nhost project domain (e.g., `yourproject.nhost.run`)
   - **Return URLs**: `https://yourproject.nhost.run/v1/auth/signin/provider/apple/callback`
5. Click **Save** and then **Continue**
6. Click **Register**

![Configure Service ID](/images/tutorials/apple-signin/3.png)

<Note>
Replace `yourproject` with your actual Nhost project subdomain. You can find this in your Nhost dashboard.
</Note>

</Step>

<Step>

### Configure Nhost Auth Provider

In your Nhost project dashboard, enable Apple as an authentication provider:

1. Go to your Nhost project dashboard
2. Navigate to **Authentication** â†’ **Sign-in methods**
3. Find **Apple** in the provider list
4. Toggle it **ON**
5. Fill in the configuration:
   - **Client ID**: Your Service ID identifier (from Step 2)
   - **Team ID**: Your Apple Developer Team ID (found in your Apple Developer account)
   - **Key ID**: Create a new key in Apple Developer Console (explained below)
   - **Private Key**: The private key content (explained below)

![Nhost Apple Configuration](/images/tutorials/apple-signin/4.png)

</Step>

<Step>

### Create Apple Sign In Key

You need to create a private key for server-to-server authentication:

1. In Apple Developer Console, go to **Keys**
2. Click the **+** button to create a new key
3. Enter a **Key Name** (e.g., "Sign in with Apple Key")
4. Enable **Sign In with Apple**
5. Click **Configure** and select your Primary App ID
6. Click **Save**, then **Continue**, then **Register**
7. **Download the key file** (.p8 file) - you can only download it once!
8. Note the **Key ID** displayed on the page

![Create Apple Key](/images/tutorials/apple-signin/5.png)

<Warning>
Store the downloaded .p8 key file securely. Apple only allows you to download it once. If you lose it, you'll need to create a new key.
</Warning>

</Step>

<Step>

### Add Private Key to Nhost

Now add the private key content to your Nhost configuration:

1. Open the downloaded .p8 key file in a text editor
2. Copy the entire content (including the `-----BEGIN PRIVATE KEY-----` and `-----END PRIVATE KEY-----` lines)
3. In your Nhost dashboard, paste this content into the **Private Key** field
4. Enter the **Key ID** you noted in the previous step
5. Your **Team ID** can be found in the top right of your Apple Developer Console
6. Click **Save**

![Add Private Key](/images/tutorials/apple-signin/6.png)

</Step>

<Step>

### Install Required Dependencies

Install the necessary packages for Apple Sign In in React Native:

```bash
npx expo install expo-apple-authentication
```

The `expo-apple-authentication` library provides:
- Native Apple Sign In functionality
- Apple-styled sign-in buttons
- Proper integration with iOS Sign in with Apple APIs

<Note>
This library only works on iOS devices and simulators running iOS 13+. It will gracefully handle being called on Android or older iOS versions.
</Note>

</Step>

<Step>

### Update App Configuration

Add the Sign in with Apple configuration to your `app.json` or `app.config.js`:

```json app.json lines highlight={15-21}
{
  "expo": {
    "name": "nhost-reactnative-tutorial",
    "slug": "nhost-reactnative-tutorial",
    "version": "1.0.0",
    "orientation": "portrait",
    "icon": "./assets/icon.png",
    "userInterfaceStyle": "light",
    "splash": {
      "image": "./assets/splash.png",
      "resizeMode": "contain",
      "backgroundColor": "#ffffff"
    },
    "assetBundlePatterns": ["**/*"],
    "ios": {
      "supportsTablet": true,
      "bundleIdentifier": "com.yourcompany.yourapp",
      "usesAppleSignIn": true
    },
    "android": {
      "adaptiveIcon": {
        "foregroundImage": "./assets/adaptive-icon.png",
        "backgroundColor": "#ffffff"
      }
    },
    "web": {
      "favicon": "./assets/favicon.png"
    }
  }
}
```

<Important>
Make sure the `bundleIdentifier` matches the App ID you configured in the Apple Developer Console, and set `usesAppleSignIn` to `true`.
</Important>

</Step>

<Step>

### Create Apple Sign In Component

Create a reusable component for Apple Sign In functionality:

```tsx app/components/AppleSignInButton.tsx
import * as AppleAuthentication from 'expo-apple-authentication';
import { useRouter } from 'expo-router';
import { useEffect, useState } from 'react';
import { Alert, Platform, View } from 'react-native';
import { useAuth } from '../lib/nhost/AuthProvider';
import { commonStyles } from '../styles/commonStyles';

export default function AppleSignInButton() {
  const { nhost } = useAuth();
  const router = useRouter();
  const [isAvailable, setIsAvailable] = useState(false);

  useEffect(() => {
    const checkAvailability = async () => {
      // Check if Sign in with Apple is available on this device
      const available = await AppleAuthentication.isAvailableAsync();
      setIsAvailable(available);
    };

    void checkAvailability();
  }, []);

  const handleAppleSignIn = async () => {
    try {
      // Request Apple Sign In
      const credential = await AppleAuthentication.signInAsync({
        requestedScopes: [
          AppleAuthentication.AppleAuthenticationScope.FULL_NAME,
          AppleAuthentication.AppleAuthenticationScope.EMAIL,
        ],
      });

      // Extract the authorization code and identity token
      const { authorizationCode, identityToken, user } = credential;

      if (!identityToken || !authorizationCode) {
        throw new Error('Apple Sign In failed: Missing credentials');
      }

      // Sign in with Nhost using the Apple credentials
      const { session, error } = await nhost.auth.signIn({
        provider: 'apple',
        providerToken: identityToken,
        providerRefreshToken: authorizationCode,
        options: {
          // Pass additional user info if available (first sign in only)
          displayName: user ? `${user.fullName?.givenName || ''} ${user.fullName?.familyName || ''}`.trim() : undefined,
        },
      });

      if (error) {
        console.error('Nhost Apple Sign In error:', error);
        Alert.alert('Sign In Failed', error.message || 'Failed to sign in with Apple');
        return;
      }

      if (session) {
        // Successfully signed in, navigate to home
        router.replace('/');
      }
    } catch (error) {
      console.error('Apple Sign In error:', error);

      // Handle user cancellation gracefully
      if (error instanceof Error && error.message.includes('canceled')) {
        // User cancelled the sign-in flow, don't show an error
        return;
      }

      Alert.alert(
        'Sign In Error',
        'Failed to sign in with Apple. Please try again.'
      );
    }
  };

  // Don't render on Android or if not available
  if (Platform.OS !== 'ios' || !isAvailable) {
    return null;
  }

  return (
    <View style={commonStyles.fullWidth}>
      <AppleAuthentication.AppleAuthenticationButton
        buttonType={AppleAuthentication.AppleAuthenticationButtonType.SIGN_IN}
        buttonStyle={AppleAuthentication.AppleAuthenticationButtonStyle.BLACK}
        cornerRadius={8}
        style={{
          width: '100%',
          height: 50,
        }}
        onPress={handleAppleSignIn}
      />
    </View>
  );
}
```

</Step>

<Step>

### Update Sign In Screen

Now integrate the Apple Sign In button into your existing sign-in screen:

```tsx app/signin.tsx lines highlight={4,51-53}
import { Stack, useRouter } from "expo-router";
import { useState } from "react";
import { Alert, Text, TextInput, TouchableOpacity, View } from "react-native";
import AppleSignInButton from "./components/AppleSignInButton";
import { useAuth } from "./lib/nhost/AuthProvider";
import { authStyles, commonStyles } from "./styles/commonStyles";

export default function SignIn() {
  const { nhost } = useAuth();
  const router = useRouter();
  const [email, setEmail] = useState("");
  const [password, setPassword] = useState("");
  const [loading, setLoading] = useState(false);

  const handleSignIn = async () => {
    if (!email.trim() || !password.trim()) {
      Alert.alert("Error", "Please enter both email and password");
      return;
    }

    setLoading(true);

    try {
      const { session, error } = await nhost.auth.signIn({
        email: email.trim().toLowerCase(),
        password,
      });

      if (error) {
        Alert.alert("Sign In Failed", error.message);
        return;
      }

      if (session) {
        router.replace("/");
      }
    } catch (err) {
      console.error("Sign in error:", err);
      Alert.alert("Error", "An unexpected error occurred");
    } finally {
      setLoading(false);
    }
  };

  return (
    <View style={commonStyles.centerContent}>
      <Stack.Screen options={{ title: "Sign In" }} />
      <View style={authStyles.authContainer}>
        <Text style={authStyles.authTitle}>Welcome Back</Text>
        <Text style={authStyles.authSubtitle}>Sign in to your account</Text>

        {/* Apple Sign In Button */}
        <AppleSignInButton />

        {/* Divider */}
        <View style={authStyles.dividerContainer}>
          <View style={authStyles.divider} />
          <Text style={authStyles.dividerText}>or</Text>
          <View style={authStyles.divider} />
        </View>

        <View style={authStyles.inputContainer}>
          <TextInput
            style={authStyles.input}
            placeholder="Email"
            placeholderTextColor="#666"
            value={email}
            onChangeText={setEmail}
            keyboardType="email-address"
            autoCapitalize="none"
            autoCorrect={false}
          />

          <TextInput
            style={authStyles.input}
            placeholder="Password"
            placeholderTextColor="#666"
            value={password}
            onChangeText={setPassword}
            secureTextEntry
            autoCapitalize="none"
          />

          <TouchableOpacity
            style={[commonStyles.button, commonStyles.fullWidth, loading && authStyles.buttonDisabled]}
            onPress={handleSignIn}
            disabled={loading}
          >
            <Text style={commonStyles.buttonText}>
              {loading ? "Signing In..." : "Sign In"}
            </Text>
          </TouchableOpacity>
        </View>

        <TouchableOpacity
          style={authStyles.linkButton}
          onPress={() => router.push("/signup")}
        >
          <Text style={authStyles.linkText}>
            Don't have an account? <Text style={authStyles.linkHighlight}>Sign Up</Text>
          </Text>
        </TouchableOpacity>
      </View>
    </View>
  );
}
```

</Step>

<Step>

### Update Sign Up Screen

Also add Apple Sign In to your sign-up screen for consistency:

```tsx app/signup.tsx lines highlight={4,52-54}
import { Stack, useRouter } from "expo-router";
import { useState } from "react";
import { Alert, Text, TextInput, TouchableOpacity, View } from "react-native";
import AppleSignInButton from "./components/AppleSignInButton";
import { useAuth } from "./lib/nhost/AuthProvider";
import { authStyles, commonStyles } from "./styles/commonStyles";

export default function SignUp() {
  const { nhost } = useAuth();
  const router = useRouter();
  const [email, setEmail] = useState("");
  const [password, setPassword] = useState("");
  const [loading, setLoading] = useState(false);

  const handleSignUp = async () => {
    if (!email.trim() || !password.trim()) {
      Alert.alert("Error", "Please enter both email and password");
      return;
    }

    if (password.length < 6) {
      Alert.alert("Error", "Password must be at least 6 characters long");
      return;
    }

    setLoading(true);

    try {
      const { session, error } = await nhost.auth.signUp({
        email: email.trim().toLowerCase(),
        password,
      });

      if (error) {
        Alert.alert("Sign Up Failed", error.message);
        return;
      }

      if (session) {
        Alert.alert(
          "Success",
          "Account created successfully! Please check your email to verify your account.",
          [{ text: "OK", onPress: () => router.replace("/") }]
        );
      }
    } catch (err) {
      console.error("Sign up error:", err);
      Alert.alert("Error", "An unexpected error occurred");
    } finally {
      setLoading(false);
    }
  };

  return (
    <View style={commonStyles.centerContent}>
      <Stack.Screen options={{ title: "Sign Up" }} />
      <View style={authStyles.authContainer}>
        <Text style={authStyles.authTitle}>Create Account</Text>
        <Text style={authStyles.authSubtitle}>Sign up to get started</Text>

        {/* Apple Sign In Button */}
        <AppleSignInButton />

        {/* Divider */}
        <View style={authStyles.dividerContainer}>
          <View style={authStyles.divider} />
          <Text style={authStyles.dividerText}>or</Text>
          <View style={authStyles.divider} />
        </View>

        <View style={authStyles.inputContainer}>
          <TextInput
            style={authStyles.input}
            placeholder="Email"
            placeholderTextColor="#666"
            value={email}
            onChangeText={setEmail}
            keyboardType="email-address"
            autoCapitalize="none"
            autoCorrect={false}
          />

          <TextInput
            style={authStyles.input}
            placeholder="Password (min 6 characters)"
            placeholderTextColor="#666"
            value={password}
            onChangeText={setPassword}
            secureTextEntry
            autoCapitalize="none"
          />

          <TouchableOpacity
            style={[commonStyles.button, commonStyles.fullWidth, loading && authStyles.buttonDisabled]}
            onPress={handleSignUp}
            disabled={loading}
          >
            <Text style={commonStyles.buttonText}>
              {loading ? "Creating Account..." : "Sign Up"}
            </Text>
          </TouchableOpacity>
        </View>

        <TouchableOpacity
          style={authStyles.linkButton}
          onPress={() => router.push("/signin")}
        >
          <Text style={authStyles.linkText}>
            Already have an account? <Text style={authStyles.linkHighlight}>Sign In</Text>
          </Text>
        </TouchableOpacity>
      </View>
    </View>
  );
}
```

</Step>

<Step>

### Update Common Styles

Add styles for the divider used between Apple Sign In and email/password forms:

```tsx app/styles/commonStyles.tsx lines highlight={213-231}
import { StyleSheet } from "react-native";
import { colors } from "./theme";

export const commonStyles = StyleSheet.create({
  // ... existing styles ...
});

export const authStyles = StyleSheet.create({
  authContainer: {
    backgroundColor: colors.card,
    borderRadius: 12,
    padding: 24,
    width: "90%",
    maxWidth: 400,
    shadowColor: "#000",
    shadowOffset: { width: 0, height: 2 },
    shadowOpacity: 0.1,
    shadowRadius: 8,
    elevation: 5,
    gap: 20,
  },
  authTitle: {
    fontSize: 28,
    fontWeight: "bold",
    color: colors.text,
    textAlign: "center",
    marginBottom: 8,
  },
  authSubtitle: {
    fontSize: 16,
    color: colors.textSecondary,
    textAlign: "center",
    marginBottom: 12,
  },
  // Add new divider styles
  dividerContainer: {
    flexDirection: "row",
    alignItems: "center",
    marginVertical: 8,
  },
  divider: {
    flex: 1,
    height: 1,
    backgroundColor: colors.border,
  },
  dividerText: {
    marginHorizontal: 16,
    fontSize: 14,
    color: colors.textSecondary,
    fontWeight: "500",
  },
  inputContainer: {
    gap: 16,
  },
  input: {
    backgroundColor: colors.inputBackground,
    borderWidth: 1,
    borderColor: colors.border,
    borderRadius: 8,
    padding: 16,
    fontSize: 16,
    color: colors.text,
  },
  buttonDisabled: {
    opacity: 0.6,
  },
  linkButton: {
    alignItems: "center",
    marginTop: 8,
  },
  linkText: {
    fontSize: 16,
    color: colors.textSecondary,
  },
  linkHighlight: {
    color: colors.primary,
    fontWeight: "600",
  },
};

// ... rest of existing styles ...
```

</Step>

<Step>

### Test Sign in with Apple

Build and test your application on an iOS device or simulator:

```bash
# For iOS simulator
npm run ios

# Or start the dev server and scan QR code with Expo Go on iOS device
npm start
```

Things to test:

1. **Apple Sign In Flow**: Tap the "Sign in with Apple" button and complete the authentication
2. **User Creation**: Sign in with Apple for the first time to create a new user account
3. **Returning Users**: Sign in again with the same Apple ID to verify user recognition
4. **Profile Information**: Check that user name and email are properly populated
5. **Integration**: Verify that Apple Sign In users can access todos, files, and other protected features
6. **Error Handling**: Test network errors and authentication failures

<Note>
Sign in with Apple only works on physical iOS devices or iOS simulators running iOS 13+. It will not work on Android or web platforms in this implementation.
</Note>

</Step>

</Steps>

## Key Features Implemented

<AccordionGroup>
<Accordion title="Apple Developer Configuration" icon="gear">
Complete setup of Apple Developer Console including App ID configuration, Service ID creation, and private key generation for secure authentication.
</Accordion>

<Accordion title="Nhost Provider Integration" icon="link">
Seamless integration with Nhost Auth system using Apple's identity tokens and authorization codes for secure user authentication.
</Accordion>

<Accordion title="Native iOS Integration" icon="mobile">
Native Apple Sign In button using expo-apple-authentication with proper iOS styling and user experience guidelines.
</Accordion>

<Accordion title="Error Handling" icon="triangle-exclamation">
Comprehensive error handling for Apple Sign In failures, network issues, and user cancellations with appropriate user feedback.
</Accordion>

<Accordion title="Cross-Platform Safety" icon="shield-check">
Graceful handling of platform differences - Apple Sign In only appears on iOS while maintaining functionality on other platforms.
</Accordion>

<Accordion title="User Data Integration" icon="user-circle">
Proper handling of Apple Sign In user data including name and email, with fallbacks for privacy-conscious users who choose not to share information.
</Accordion>
</AccordionGroup>

## Apple Sign In Best Practices

This implementation follows Apple's guidelines and best practices:

- **Privacy First**: Respects user privacy choices when they opt not to share email or name
- **Native UI**: Uses official Apple Sign In button styling and behavior
- **Secure Flow**: Implements proper token validation through Nhost's secure backend
- **User Experience**: Handles errors gracefully without disrupting the user flow
- **Platform Appropriate**: Only shows Apple Sign In on iOS where it's available and expected

## Troubleshooting Common Issues

<AccordionGroup>
<Accordion title="Button Not Appearing">
Ensure you're testing on iOS 13+ and that `expo-apple-authentication` is properly installed. Check that `usesAppleSignIn: true` is set in your app.json.
</Accordion>

<Accordion title="Authentication Fails">
Verify your Apple Developer Console configuration matches your Nhost settings. Check that your Service ID, Team ID, Key ID, and private key are all correct.
</Accordion>

<Accordion title="Invalid Credentials Error">
This usually indicates a mismatch between your Apple Developer configuration and Nhost settings. Double-check all IDs and ensure your private key is properly formatted.
</Accordion>

<Accordion title="Simulator Issues">
Some Apple Sign In features work differently in the simulator vs. real devices. Test on a physical iOS device for the most accurate behavior.
</Accordion>
</AccordionGroup>

## What's Next?

With Apple Sign In implemented, your users now have multiple authentication options:

- **Email/Password**: Traditional authentication with email verification
- **Apple Sign In**: Quick, privacy-focused authentication for iOS users

You can extend this pattern to add other OAuth providers supported by Nhost, such as:
- [Google Sign In](/products/auth/sign-in-google)
- [GitHub Sign In](/products/auth/sign-in-github)
- [Facebook Sign In](/products/auth/sign-in-facebook)

This completes the comprehensive React Native tutorial series, giving you a fully-featured mobile application with authentication, data management, file uploads, and social sign-in capabilities.
