/* ==============================================
   NHOST BRAND THEME
   ============================================== */

/* Force dark theme only */
:root {
  color-scheme: dark;
}

/* Dark mode (default) */
:root {
  /* Custom mobile nav toggle height */
  --custom-mobile-nav-height: 2.75rem;
  /* Subheader height (visible at 50rem+) */
  --custom-subheader-height: 2.5rem;
  /* Max width for the entire layout */
  --custom-max-width: 90rem;

  /* Brand accent */
  --sl-color-accent-low: #00398e;
  --sl-color-accent: #0066ff;
  --sl-color-accent-high: #8cc1f2;

  /* Backgrounds */
  --sl-color-black: #080808;
  --sl-color-bg: #080808;
  --sl-color-bg-nav: #080808;
  --sl-color-bg-sidebar: #080808;
  --sl-color-bg-inline-code: #1a1a1a;

  /* Gray scale */
  --sl-color-gray-6: #111111;
  --sl-color-gray-5: #1a1a1a;
  --sl-color-gray-4: #262626;
  --sl-color-gray-3: rgba(255, 255, 255, 0.65);
  --sl-color-gray-2: rgba(255, 255, 255, 0.8);
  --sl-color-gray-1: #ffffff;
  --sl-color-white: #ffffff;

  /* Dividers */
  --sl-color-hairline-light: #262626;
  --sl-color-hairline: #1a1a1a;
  --sl-color-hairline-shade: #080808;

  /* Text */
  --sl-color-text: rgba(255, 255, 255, 0.8);
  --sl-color-text-accent: #8cc1f2;

  /* Typography */
  --sl-font: "Inter", ui-sans-serif, system-ui, sans-serif;
  --sl-font-headings: var(--sl-font);
}

/* Light mode */
[data-theme="light"],
:root[data-theme="light"] {
  --sl-color-accent-low: #e6f0ff;
  --sl-color-accent: #0066ff;
  --sl-color-accent-high: #00398e;

  --sl-color-bg: #ffffff;
  --sl-color-bg-nav: #ffffff;
  --sl-color-bg-sidebar: #ffffff;
  --sl-color-bg-inline-code: #f0f0f0;

  --sl-color-gray-1: #111111;
  --sl-color-gray-2: #333333;
  --sl-color-gray-3: #666666;
  --sl-color-gray-4: #999999;
  --sl-color-gray-5: #e0e0e0;
  --sl-color-gray-6: #f0f0f0;

  --sl-color-hairline-light: #e0e0e0;
  --sl-color-hairline: #d0d0d0;

  --sl-color-text: #333333;
  --sl-color-text-accent: #0066ff;
}

/* Apply different font for headings */
h1,
h2,
h3,
h4,
h5,
h6,
.sl-markdown-content h1,
.sl-markdown-content h2,
.sl-markdown-content h3,
.sl-markdown-content h4,
.sl-markdown-content h5,
.sl-markdown-content h6,
.site-title {
  font-family: var(--sl-font-headings);
}

/* Primary buttons - white with black text (matching landing page) */
.sl-link-button.primary {
  background-color: #ffffff !important;
  border-color: transparent !important;
  color: #000000 !important;
}

.sl-link-button.primary:hover {
  background-color: #ffffff !important;
  color: #000000 !important;
  box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.5);
}

/* Secondary/outlined buttons */
.sl-link-button.secondary {
  background-color: #080808 !important;
  color: #ffffff !important;
  border-color: #262626 !important;
}

.sl-link-button.secondary:hover {
  background-color: rgba(255, 255, 255, 0.1) !important;
  color: #ffffff !important;
}

/* Dashboard action button in subheader */
.action-button {
  background-color: #ffffff !important;
  color: #000000 !important;
}

.action-button:hover {
  background-color: #ffffff !important;
  box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.5);
  opacity: 1 !important;
}

/* Light mode button adjustments */
[data-theme="light"] .sl-link-button.primary {
  background-color: #0066ff !important;
  color: #ffffff !important;
  border-color: transparent !important;
}

[data-theme="light"] .sl-link-button.primary:hover {
  background-color: #0052cd !important;
  box-shadow: 0 0 0 2px rgba(0, 102, 255, 0.3);
}

[data-theme="light"] .sl-link-button.secondary {
  background-color: #ffffff !important;
  color: #111111 !important;
  border-color: #e0e0e0 !important;
}

[data-theme="light"] .sl-link-button.secondary:hover {
  background-color: #f5f5f5 !important;
}

[data-theme="light"] .action-button {
  background-color: #0066ff !important;
  color: #ffffff !important;
}

[data-theme="light"] .action-button:hover {
  background-color: #0052cd !important;
}

.welcome-page {
  margin: 0 auto;
}

.welcome-get-started {
  margin: 0 auto;
  max-width: 1000px;
}

.welcome-get-started h1 {
  text-align: center;
  font-size: 1.5rem;
  font-weight: 600;
  margin: 2rem;
}

html[class~="dark"] .welcome-get-started {
  color: white;
}

/* light mode */
html:not([class~="dark"]) .welcome-get-started {
  color: #111827;
}

/* Hide the sidebar topic list since we show it in the header */
.starlight-sidebar-topics {
  display: none;
}

/* ==============================================
   SIDEBAR STYLING (Clean, modern design)
   ============================================== */

/* Left sidebar */
.sidebar-pane {
  padding-right: 1.5rem !important;
}

/* Reset top-level list */
.sidebar-content ul.top-level {
  padding: 0 !important;
  margin: 0 !important;
}

/* Top-level items */
.sidebar-content ul.top-level > li {
  margin: 0 !important;
  padding: 0 !important;
}

/* Top-level direct links (topic overview - e.g., "Getting Started", "Platform") */
/* PlanetScale-style highlighted sidebar item */
.sidebar-content ul.top-level > li > a {
  display: block;
  padding: 0.5rem 0.75rem;
  margin: 0 -0.75rem 0.5rem -0.75rem;
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--sl-color-gray-1);
  text-decoration: none;
  background-color: var(--sl-color-gray-5);
  border-radius: 0.375rem;
  transition: color 0.15s, background-color 0.15s;
}

.sidebar-content ul.top-level > li > a:hover {
  color: var(--sl-color-white);
  background-color: var(--sl-color-gray-4);
}

/* Current page - highlighted with accent color */
.sidebar-content a[aria-current="page"],
.sidebar-content a[aria-current="page"]:hover,
.sidebar-content a[aria-current="page"]:focus {
  color: var(--sl-color-text-accent) !important;
  font-weight: 500 !important;
}

/* Keep background for top-level topic link when active */
.sidebar-content ul.top-level > li > a[aria-current="page"],
.sidebar-content ul.top-level > li > a[aria-current="page"]:hover {
  background-color: var(--sl-color-gray-5) !important;
}

/* Regular sidebar items (not top-level) should have transparent background when active */
.sidebar-content ul.top-level > li > details a[aria-current="page"] {
  background-color: transparent !important;
}

/* Top-level section groups */
.sidebar-content ul.top-level > li > details {
  margin-top: 1.5rem;
  padding-top: 1.5rem;
  border-top: 1px solid var(--sl-color-hairline-light);
}

/* First section doesn't need top border */
.sidebar-content ul.top-level > li:first-child > details {
  margin-top: 0;
  padding-top: 0;
  border-top: none;
}

/* Force ALL top-level sections to be always open */
.sidebar-content ul.top-level > li > details {
  pointer-events: none;
}

.sidebar-content ul.top-level > li > details > * {
  pointer-events: auto;
}

.sidebar-content ul.top-level > li > details > summary {
  pointer-events: none;
}

/* Section titles - uppercase labels, NOT clickable */
.sidebar-content ul.top-level > li > details > summary {
  list-style: none;
  padding: 0;
  margin-bottom: 0.75rem;
  cursor: default;
}

.sidebar-content ul.top-level > li > details > summary::-webkit-details-marker {
  display: none;
}

.sidebar-content ul.top-level > li > details > summary .group-label .large {
  font-size: 0.6875rem !important;
  font-weight: 600 !important;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--sl-color-gray-3) !important;
}

/* Hide the caret on top-level section titles */
.sidebar-content ul.top-level > li > details > summary .caret {
  display: none !important;
}

/* Nested list inside sections */
.sidebar-content ul.top-level > li > details > ul {
  padding: 0 !important;
  margin: 0 !important;
}

/* Nested items */
.sidebar-content ul.top-level > li > details > ul > li {
  margin: 0 !important;
  padding: 0 !important;
}

/* Nested links */
.sidebar-content ul.top-level > li > details > ul a {
  display: block;
  padding: 0.375rem 0;
  font-size: 0.875rem;
  font-weight: 400;
  color: var(--sl-color-gray-2);
  text-decoration: none;
  transition: color 0.15s;
}

.sidebar-content ul.top-level > li > details > ul a:hover {
  color: var(--sl-color-white);
}

/* Deeply nested groups (collapsible subsections) */
.sidebar-content ul.top-level > li > details > ul details {
  margin-top: 0.25rem;
}

.sidebar-content ul.top-level > li > details > ul details > summary {
  padding: 0.375rem 0;
  font-size: 0.875rem;
  font-weight: 400;
  color: var(--sl-color-gray-2);
  cursor: pointer;
}

.sidebar-content ul.top-level > li > details > ul details > summary:hover {
  color: var(--sl-color-white);
}

.sidebar-content ul.top-level > li > details > ul details > summary .large {
  font-size: 0.875rem !important;
  font-weight: 400 !important;
  text-transform: none !important;
  letter-spacing: normal !important;
}

/* Keep the caret for nested collapsible items */
.sidebar-content ul.top-level > li > details > ul details > summary .caret {
  display: inline-block !important;
  width: 1rem;
  height: 1rem;
  opacity: 0.6;
}

/* Deeply nested list - add left padding */
.sidebar-content ul.top-level > li > details > ul details > ul {
  padding-left: 1rem !important;
  margin: 0.25rem 0 !important;
}

.sidebar-content ul.top-level > li > details > ul details > ul a {
  padding: 0.25rem 0;
  font-size: 0.8125rem;
}

/* Remove the left border from nested sidebar items (Starlight default) */
.sidebar-content ul ul li {
  border-inline-start: none !important;
  margin-inline-start: 0 !important;
  padding-inline-start: 0 !important;
}

/* Override Starlight's default hover color */
.sidebar-content a:hover,
.sidebar-content a:focus {
  color: var(--sl-color-text-accent) !important;
}

/* ==============================================
   MAIN CONTENT AREA
   ============================================== */

/* Main content area */
.main-pane {
  padding-inline-start: 2rem !important;
}

/* ==============================================
   RIGHT SIDEBAR (Table of Contents)
   ============================================== */

/* Remove separation between content and right sidebar */
.right-sidebar {
  border-inline-start: none !important;
  padding-inline-start: 1rem !important;
}

.right-sidebar-panel a:hover,
.right-sidebar-panel a:focus {
  color: var(--sl-color-text-accent) !important;
}

/* Smaller pagination (Next/Previous) links */
.pagination-links a {
  font-size: 0.875rem;
}

.pagination-links .link-title {
  font-size: 0.8125rem;
}


/* Keep the caret smaller and aligned */
.sidebar-content ul:not(.top-level) li details > summary .caret {
  width: 1rem;
  height: 1rem;
}

/* Make the logo smaller */
.site-title img {
  height: 1.5rem;
  width: auto;
}

/* Move OpenAPI method badges to the left of the label */
.sidebar-content a:has(.sl-badge[class*="sl-openapi-method"]) {
  display: flex;
  flex-direction: row-reverse;
  justify-content: flex-end;
  align-items: flex-start;
  gap: 0.5em;
}

/* Make OpenAPI method badges smaller and prevent line breaks */
.sidebar-content .sl-badge[class*="sl-openapi-method"] {
  font-size: 0.6em;
  padding: 0.2em 0;
  white-space: nowrap;
  flex-shrink: 0;
  height: fit-content;
  line-height: 1.4;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-top: 0.2em;
  width: 4em;
  font-family: monospace;
}

/* Subheader spacing - add margin to content below the subheader */
/* Hero background - full width with colored background */
.hero {
  background: linear-gradient(to bottom, #0d1a2d 0%, #0a1420 100%);
  margin-left: calc(-50vw + 50%);
  margin-right: calc(-50vw + 50%);
  margin-top: -1.5rem;
  padding: 6rem calc(50vw - 50%);
  margin-bottom: 6rem;
  /* Override desktop grid to stay centered */
  grid-template-columns: 1fr !important;
  justify-items: center;
}

.hero .stack {
  text-align: center !important;
}

.hero .copy {
  align-items: center !important;
}

.hero .copy h1 {
  color: var(--sl-color-text) !important;
  font-size: 2.25rem !important;
  font-weight: 700 !important;
  line-height: 1.2 !important;
}

@media (min-width: 50rem) {
  .hero .copy h1 {
    font-size: 2.75rem !important;
  }
}

.hero .copy .tagline {
  color: var(--sl-color-gray-2) !important;
}

.hero .actions {
  justify-content: center !important;
}

.hero .actions a.sl-link-button:not(.primary) {
  color: var(--sl-color-text) !important;
}

/* ==============================================
   CONTENT AREA TYPOGRAPHY & SPACING
   ============================================== */

/* Page title - larger, prominent (content pages only, not hero) */
.content-panel h1#_top {
  color: var(--sl-color-text) !important;
  font-size: 2rem !important;
  font-weight: 600 !important;
  margin-bottom: 1.5rem !important;
  line-height: 1.2 !important;
}

/* Remove separator/border between content panels (title and body) */
.content-panel + .content-panel {
  border-top: none !important;
}

/* Content headings - smaller than page title (exclude cards) */
.sl-markdown-content h2:not(.sl-card-title) {
  font-size: 1.25rem !important;
  font-weight: 600 !important;
  margin-top: 2.5rem !important;
  margin-bottom: 1rem !important;
  line-height: 1.3 !important;
}

.sl-markdown-content h3:not(.sl-card-title) {
  font-size: 1rem !important;
  font-weight: 600 !important;
  margin-top: 2rem !important;
  margin-bottom: 0.75rem !important;
  line-height: 1.4 !important;
}

.sl-markdown-content h4:not(.sl-card-title) {
  font-size: 0.875rem !important;
  font-weight: 600 !important;
  margin-top: 1.5rem !important;
  margin-bottom: 0.5rem !important;
  line-height: 1.4 !important;
}

/* Paragraphs - better spacing (only direct children, not inside cards) */
.sl-markdown-content > p {
  margin-bottom: 1.25rem !important;
  line-height: 1.7 !important;
}

/* Lists - better spacing (only direct children) */
.sl-markdown-content > ul,
.sl-markdown-content > ol {
  margin-bottom: 1.25rem !important;
  padding-left: 1.5rem !important;
}

.sl-markdown-content > ul > li,
.sl-markdown-content > ol > li {
  margin-bottom: 0.5rem !important;
  line-height: 1.6 !important;
}

.sl-markdown-content > ul > li:last-child,
.sl-markdown-content > ol > li:last-child {
  margin-bottom: 0 !important;
}

/* Code blocks - better spacing */
.sl-markdown-content > pre {
  margin-top: 1rem !important;
  margin-bottom: 1.5rem !important;
}

/* Tables - better spacing */
.sl-markdown-content > table {
  margin-top: 1rem !important;
  margin-bottom: 1.5rem !important;
}

/* Blockquotes */
.sl-markdown-content > blockquote {
  margin-top: 1rem !important;
  margin-bottom: 1.5rem !important;
  padding-left: 1rem !important;
}

/* First element after heading - reduce top margin */
.sl-markdown-content > h2 + p,
.sl-markdown-content > h3 + p,
.sl-markdown-content > h4 + p,
.sl-markdown-content > h2 + ul,
.sl-markdown-content > h3 + ul,
.sl-markdown-content > h4 + ul {
  margin-top: 0 !important;
}

/* Header - center the search bar consistently across all pages */
@media (min-width: 50rem) {
  header.header .header {
    /* Override Starlight's complex grid to center the search bar */
    grid-template-columns: auto 1fr auto !important;
  }

  header.header .header > div:nth-child(2) {
    /* Search container - center it and give it a good width */
    justify-self: center;
    width: 100%;
    max-width: 400px;
    display: flex;
    justify-content: center;
  }

  header.header .header > div:nth-child(2) site-search {
    width: 100%;
  }

  header.header .right-group {
    /* Right group - align right */
    justify-self: end;
    margin-left: auto;
  }
}

@media (min-width: 50rem) {
  /* Left sidebar sticky position accounts for header + subheader */
  .sidebar-pane {
    top: calc(var(--sl-nav-height) + var(--custom-subheader-height)) !important;
  }
}

@media (min-width: 72rem) {
  /* Right sidebar (On this page) - only visible on large desktop */
  .right-sidebar {
    top: var(--custom-subheader-height) !important;
  }
}

/* Mobile layout fixes - account for custom mobile nav toggle */
@media (max-width: 49.99rem) {
  /* Push mobile TOC below the custom mobile nav toggle */
  mobile-starlight-toc nav {
    top: calc(
      var(--sl-nav-height) +
      var(--custom-mobile-nav-height)
    ) !important;
  }

  /* Main content needs padding for: nav + custom toggle + mobile TOC */
  .main-frame {
    padding-top: calc(
      var(--sl-nav-height) +
      var(--custom-mobile-nav-height) +
      var(--sl-mobile-toc-height)
    ) !important;
  }

  /* Scroll padding for anchor links */
  html {
    scroll-padding-top: calc(
      1.5rem +
      var(--sl-nav-height) +
      var(--custom-mobile-nav-height) +
      var(--sl-mobile-toc-height)
    ) !important;
  }
}

/* Tablet layout fixes (50-72rem) - subheader visible, mobile TOC still shown */
@media (min-width: 50rem) and (max-width: 71.99rem) {
  .main-frame {
    padding-top: calc(
      var(--sl-nav-height) +
      var(--custom-subheader-height) +
      var(--sl-mobile-toc-height)
    ) !important;
  }

  /* Scroll padding for anchor links */
  html {
    scroll-padding-top: calc(
      1.5rem +
      var(--sl-nav-height) +
      var(--custom-subheader-height) +
      var(--sl-mobile-toc-height)
    ) !important;
  }
}

/* Large desktop layout (72rem+) - no mobile TOC */
@media (min-width: 72rem) {
  .main-frame {
    padding-top: calc(
      var(--sl-nav-height) +
      var(--custom-subheader-height)
    ) !important;
  }

  /* Scroll padding for anchor links */
  html {
    scroll-padding-top: calc(
      1.5rem +
      var(--sl-nav-height) +
      var(--custom-subheader-height)
    ) !important;
  }
}

/* Mobile TOC - solid background, no borders */
mobile-starlight-toc nav {
  background-color: var(--sl-color-bg-nav) !important;
  border: none !important;
}

mobile-starlight-toc .dropdown {
  background-color: var(--sl-color-bg) !important;
}

mobile-starlight-toc .toggle {
  background-color: var(--sl-color-bg) !important;
  border: none !important;
}

/* Mobile TOC on tablet (50-72rem) */
@media (min-width: 50rem) and (max-width: 71.99rem) {
  mobile-starlight-toc nav {
    top: calc(var(--sl-nav-height) + var(--custom-subheader-height)) !important;
    background-color: var(--sl-color-bg) !important;
    border: none !important;
  }

  mobile-starlight-toc .dropdown {
    background-color: var(--sl-color-bg) !important;
  }

  mobile-starlight-toc .toggle {
    background-color: transparent !important;
    border: none !important;
  }
}

/* ==============================================
   MAX-WIDTH LAYOUT CONSTRAINT
   ============================================== */

/* Constrain the entire page layout */
.page {
  max-width: var(--custom-max-width);
  margin-inline: auto;
}

/* Header needs to be full-width with content constrained */
header.header {
  width: 100%;
  max-width: var(--custom-max-width);
  margin-inline: auto;
  left: 50% !important;
  transform: translateX(-50%);
}

/* Subheader follows header width */
@media (min-width: 50rem) {
  .subheader-nav {
    max-width: var(--custom-max-width);
    left: 50% !important;
    right: auto !important;
    transform: translateX(-50%);
  }
}

/* Mobile nav toggle follows header width */
@media (max-width: 49.99rem) {
  .mobile-nav-toggle {
    max-width: var(--custom-max-width);
    margin-inline: auto;
    left: 50% !important;
    transform: translateX(-50%);
  }
}

/* Sidebar borders extend to edge of constrained area */
@media (min-width: 50rem) {
  .sidebar-pane {
    left: auto !important;
  }
}

/* ==============================================
   SPLASH PAGE FIXES (Welcome page)
   ============================================== */

/* Splash pages (with hero, no sidebar) shouldn't force 100vh min-height
   which creates unnecessary scroll on large screens */
html[data-has-hero]:not([data-has-sidebar]) .page {
  min-height: auto !important;
  max-width: none !important;
}

/* Remove left padding on splash pages so hero extends to edge */
html[data-has-hero]:not([data-has-sidebar]) .main-pane {
  padding-inline-start: 0 !important;
}

/* Prevent scrolling on splash pages when content fits */
html[data-has-hero]:not([data-has-sidebar]) body {
  overflow: hidden;
}
