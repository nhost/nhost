/**
 * Generated by orval v8.0.2 ðŸº
 * Do not edit manually.
 * Hasura API
 * API for managing remote schemas and events in Hasura
 * OpenAPI spec version: 1.0.0
 */

import type { CustomFetchOptions } from '../../customFetch';

import { customFetch } from '../../customFetch';
import type {
  AddRemoteSchemaOperation,
  CreateCronTriggerBulkOperation,
  CreateEventTriggerBulkOperation,
  DeleteCronTriggerOperation,
  DeleteEventTriggerBulkOperation,
  DeleteRemoteSchemaRemoteRelationshipOperation,
  DeleteScheduledEventOperation,
  ErrorResponse,
  ExportMetadata,
  GetCronTriggersOperation,
  GetEventAndInvocationLogsByIdOperation,
  GetEventLogsOperation,
  GetScheduledEventInvocationsOperation,
  GetScheduledEventsOperation,
  IntrospectRemoteSchemaOperation,
  InvokeEventTriggerOperation,
  MetadataOperation200,
  MetadataOperation401,
  MigrationRequest,
  RedeliverEventOperation,
  ReloadRemoteSchemaOperation,
  RemoteSchemaPermissionsBulkOperation,
  RemoteSchemaRemoteRelationshipOperation,
  RemoveRemoteSchemaOperation,
  SetFunctionCustomizationOperation,
  SetTableCustomizationBulkOperation,
  SetTableIsEnumBulkOperation,
  SuccessResponse,
  TestWebhookTransformOperation,
  UpdateRemoteSchemaBulkOperation,
} from '.././schemas';

/**
 * Endpoint for all metadata operations
 * @summary Metadata API endpoint
 */
export type metadataOperationResponse200 = {
  data: MetadataOperation200;
  status: 200;
};

export type metadataOperationResponse400 = {
  data: ErrorResponse;
  status: 400;
};

export type metadataOperationResponse401 = {
  data: MetadataOperation401;
  status: 401;
};

export type metadataOperationResponse500 = {
  data: ErrorResponse;
  status: 500;
};

export type metadataOperationResponseSuccess = metadataOperationResponse200 & {
  headers: Headers;
};
export type metadataOperationResponseError = (
  | metadataOperationResponse400
  | metadataOperationResponse401
  | metadataOperationResponse500
) & {
  headers: Headers;
};

export type metadataOperationResponse =
  | metadataOperationResponseSuccess
  | metadataOperationResponseError;

export const getMetadataOperationUrl = () => {
  return `/v1/metadata`;
};

export const metadataOperation = async (
  exportMetadataSetTableCustomizationBulkOperationSetFunctionCustomizationOperationSetTableIsEnumBulkOperationAddRemoteSchemaOperationUpdateRemoteSchemaBulkOperationRemoveRemoteSchemaOperationReloadRemoteSchemaOperationIntrospectRemoteSchemaOperationRemoteSchemaRemoteRelationshipOperationDeleteRemoteSchemaRemoteRelationshipOperationRemoteSchemaPermissionsBulkOperationGetEventLogsOperationGetEventAndInvocationLogsByIdOperationRedeliverEventOperationCreateEventTriggerBulkOperationDeleteEventTriggerBulkOperationTestWebhookTransformOperationInvokeEventTriggerOperationGetCronTriggersOperationCreateCronTriggerBulkOperationDeleteCronTriggerOperationGetScheduledEventsOperationGetScheduledEventInvocationsOperationDeleteScheduledEventOperation:
    | ExportMetadata
    | SetTableCustomizationBulkOperation
    | SetFunctionCustomizationOperation
    | SetTableIsEnumBulkOperation
    | AddRemoteSchemaOperation
    | UpdateRemoteSchemaBulkOperation
    | RemoveRemoteSchemaOperation
    | ReloadRemoteSchemaOperation
    | IntrospectRemoteSchemaOperation
    | RemoteSchemaRemoteRelationshipOperation
    | DeleteRemoteSchemaRemoteRelationshipOperation
    | RemoteSchemaPermissionsBulkOperation
    | GetEventLogsOperation
    | GetEventAndInvocationLogsByIdOperation
    | RedeliverEventOperation
    | CreateEventTriggerBulkOperation
    | DeleteEventTriggerBulkOperation
    | TestWebhookTransformOperation
    | InvokeEventTriggerOperation
    | GetCronTriggersOperation
    | CreateCronTriggerBulkOperation
    | DeleteCronTriggerOperation
    | GetScheduledEventsOperation
    | GetScheduledEventInvocationsOperation
    | DeleteScheduledEventOperation,
  options?: CustomFetchOptions,
): Promise<metadataOperationResponse> => {
  return customFetch<metadataOperationResponse>(getMetadataOperationUrl(), {
    ...options,
    method: 'POST',
    headers: { 'Content-Type': 'application/json', ...options?.headers },
    body: JSON.stringify(
      exportMetadataSetTableCustomizationBulkOperationSetFunctionCustomizationOperationSetTableIsEnumBulkOperationAddRemoteSchemaOperationUpdateRemoteSchemaBulkOperationRemoveRemoteSchemaOperationReloadRemoteSchemaOperationIntrospectRemoteSchemaOperationRemoteSchemaRemoteRelationshipOperationDeleteRemoteSchemaRemoteRelationshipOperationRemoteSchemaPermissionsBulkOperationGetEventLogsOperationGetEventAndInvocationLogsByIdOperationRedeliverEventOperationCreateEventTriggerBulkOperationDeleteEventTriggerBulkOperationTestWebhookTransformOperationInvokeEventTriggerOperationGetCronTriggersOperationCreateCronTriggerBulkOperationDeleteCronTriggerOperationGetScheduledEventsOperationGetScheduledEventInvocationsOperationDeleteScheduledEventOperation,
    ),
  });
};

/**
 * Executes a migration with the provided up and down steps
 * @summary Execute a migration
 */
export type executeMigrationResponse200 = {
  data: SuccessResponse;
  status: 200;
};

export type executeMigrationResponse500 = {
  data: ErrorResponse;
  status: 500;
};

export type executeMigrationResponseSuccess = executeMigrationResponse200 & {
  headers: Headers;
};
export type executeMigrationResponseError = executeMigrationResponse500 & {
  headers: Headers;
};

export type executeMigrationResponse =
  | executeMigrationResponseSuccess
  | executeMigrationResponseError;

export const getExecuteMigrationUrl = () => {
  return `/apis/migrate`;
};

export const executeMigration = async (
  migrationRequest: MigrationRequest,
  options?: CustomFetchOptions,
): Promise<executeMigrationResponse> => {
  return customFetch<executeMigrationResponse>(getExecuteMigrationUrl(), {
    ...options,
    method: 'POST',
    headers: { 'Content-Type': 'application/json', ...options?.headers },
    body: JSON.stringify(migrationRequest),
  });
};
