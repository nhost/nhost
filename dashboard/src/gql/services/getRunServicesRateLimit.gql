fragment RunServiceRateLimit on ConfigRunServiceConfig {
  name
  ports {
    port
    type
    publish
    rateLimit {
      limit
      interval
    }
  }
}

query getRunServicesRateLimit(
  $appID: uuid!
  $resolve: Boolean!
  $limit: Int!
  $offset: Int!
) {
  app(id: $appID) {
    runServices(limit: $limit, offset: $offset) {
      id
      createdAt
      updatedAt
      subdomain
      config(resolve: $resolve) {
        ...RunServiceRateLimit
      }
    }
  }
}

query getLocalRunServiceRateLimit($appID: uuid!, $resolve: Boolean!) {
  runServiceConfigs(appID: $appID, resolve: $resolve) {
    serviceID
    config {
      ...RunServiceRateLimit
    }
  }
}
