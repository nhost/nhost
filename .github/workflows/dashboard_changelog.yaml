---
name: "dashboard: changelog"
on:
  pull_request:
    paths:
      - '.github/workflows/wf_check_changelog.yaml'
      - '.github/workflows/dashboard_checks.yaml'
      - 'flake.nix'
      - 'flake.lock'
      - 'nix/**'
      - 'build/**'

      # dashboard
      - "package.json"
      - ".npmrc"
      - "pnpm-workspace.yaml"
      - "pnpm-lock.yaml"
      - "turbo.json"
      - "dashboard/**"

      # codegen
      - 'go.mod'
      - 'go.sum'
      - 'vendor/**'
      - 'tools/codegen/**'

      # nhost-js
      - ".npmrc"
      - ".prettierignore"
      - ".prettierrc.js"
      - "audit-ci.jsonc"
      - "pnpm-workspace.yaml"
      - "pnpm-lock.yaml"
      - "turbo.json"
      - packages/nhost-js/**
  push:
    branches:
      - main

jobs:
  check-changelog:
    uses: ./.github/workflows/wf_check_changelog.yaml
    with:
      PROJECT_PATH: dashboard
